
<h1>Sign Up</h1>
<% if @user.errors.any? %>
    <p class="error"><%= @user.errors.full_messages %></p>
<% end %>
<form id="user-form" action="/users" accept-charset="UTF-8" method="post" enctype="multipart/form-data">
    <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
    <div class="form-group">
        <label for="exampleInputEmail1">Email address</label>
        <input id="email" name="email"type="email" class="form-control" aria-describedby="emailHelp" placeholder="Enter email">
        <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
    </div>
    <div class="form-group">
        <label for="exampleInputPassword1">Password</label>
        <input id="password" name="password" type="password" class="form-control"  placeholder="Password">
    </div>
    <div class="form-group">
        <label for="exampleInputPassword1">Confirm Password</label>
        <input id="confirm_password" name="confirm_password" type="password" class="form-control"  placeholder="re-enter Password">
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>

<script>
$.validator.setDefaults({
    submitHandler: function(form) {
      alert("Sign up success!");
      form.submit();
    }
});
$().ready(function() {
  $("#user-form").validate({
    rules: {
      password: {
        required: true,
        minlength: 8
      },
      confirm_password: {
        required: true,
        minlength: 8,
        equalTo: "#password"
      },
      email: {
        required: true,
        email: true
      },
    },
    messages: {
      password: {
        required: "Please enter password",
        minlength: "The password should above 8 characters"
      },
      confirm_password: {
        required: "Please enter password again",
        minlength: "The confirm password should above 8 characters",
        equalTo: "The confirm password doen't equal to password"
      },
      email: {
        required: "Please enter email",
        email: "Please check the email format is correct"
      }
    }
   })
  })
</script>